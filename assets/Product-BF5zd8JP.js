import{r as p,s as k,a as z,d as o,v as m,e as n,f as t,x as M,y as _,z as y,A as h,t as i,B as C,h as P,u as S,q as V}from"./index-CRtST-Pn.js";import{p as N}from"./products-C1NzYKoN.js";const U={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},A={class:"bg-white text-black w-full max-w-2xl rounded-lg shadow-lg p-6 relative animate-fade-in-up mx-2 sm:mx-0"},B={key:0,class:"text-sm text-red-500"},Z={key:1,class:"text-sm text-red-500"},D=["readonly"],I={key:2,class:"text-sm text-red-500"},E={key:3,class:"text-sm text-red-500"},O={key:4,class:"text-green-600 text-center font-semibold"},T={key:5,class:"text-red-600 text-center font-semibold"},K=["disabled"],R={key:0},q={key:1,class:"animate-pulse"},F={__name:"ContactModal",props:{show:Boolean,subject:String},emits:["close"],setup(x,{emit:g}){const v=x,u=g,e=p({name:"",email:"",subject:"",message:""}),s=p({}),b=p(!1),c=p(""),r=p("");k(()=>{v.subject&&(e.value.subject=v.subject)}),z(()=>v.subject,a=>{e.value.subject=a||""});const f=()=>{u("close")},j=a=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a),w=()=>{let a=!0;return s.value={},e.value.name.trim()||(s.value.name="Unesite ime.",a=!1),j(e.value.email)||(s.value.email="Unesite ispravan email.",a=!1),e.value.subject.trim()||(s.value.subject="Naslov je obavezan.",a=!1),e.value.message.trim()||(s.value.message="Unesite poruku.",a=!1),a},$=async()=>{if(c.value="",r.value="",!!w()){b.value=!0;try{(await fetch("https://formspree.io/f/xyzkrlzo",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.value)})).ok?(c.value="Poruka uspešno poslata!",e.value={name:"",email:"",subject:v.subject||"",message:""}):r.value="Greška pri slanju. Pokušajte ponovo."}catch{r.value="Došlo je do greške. Proverite konekciju."}b.value=!1}};return(a,l)=>x.show?(n(),o("div",U,[t("div",A,[t("button",{onClick:f,class:"absolute top-4 right-4 text-2xl font-bold text-gray-700 hover:text-brandOrange transition-colors"}," ✕ "),l[4]||(l[4]=t("h2",{class:"text-2xl font-bold mb-2 text-center"},"Zatraži ponudu",-1)),l[5]||(l[5]=t("p",{class:"text-sm text-center mb-4 text-gray-500"},"Popunite formu i javićemo vam se što pre.",-1)),t("form",{onSubmit:M($,["prevent"]),class:"space-y-4"},[_(t("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>e.value.name=d),type:"text",placeholder:"Ime / Ime firme",class:h(["input w-full",{"border-red-500":s.value.name}])},null,2),[[y,e.value.name]]),s.value.name?(n(),o("p",B,i(s.value.name),1)):m("",!0),_(t("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>e.value.email=d),type:"email",placeholder:"Email",class:h(["input w-full",{"border-red-500":s.value.email}])},null,2),[[y,e.value.email]]),s.value.email?(n(),o("p",Z,i(s.value.email),1)):m("",!0),_(t("input",{"onUpdate:modelValue":l[2]||(l[2]=d=>e.value.subject=d),type:"text",placeholder:"Naslov",class:h(["input w-full",{"border-red-500":s.value.subject}]),readonly:!!x.subject},null,10,D),[[y,e.value.subject]]),s.value.subject?(n(),o("p",I,i(s.value.subject),1)):m("",!0),_(t("textarea",{"onUpdate:modelValue":l[3]||(l[3]=d=>e.value.message=d),rows:"4",placeholder:"Vaša poruka",class:h(["input w-full",{"border-red-500":s.value.message}])},null,2),[[y,e.value.message]]),s.value.message?(n(),o("p",E,i(s.value.message),1)):m("",!0),c.value?(n(),o("p",O,i(c.value),1)):m("",!0),r.value?(n(),o("p",T,i(r.value),1)):m("",!0),t("button",{type:"submit",disabled:b.value,class:"btn-primary w-full"},[b.value?(n(),o("span",q,"Slanje...")):(n(),o("span",R,"Pošalji"))],8,K)],32)])])):m("",!0)}},G={class:"max-w-4xl mx-auto px-6 py-12 pt-32"},J={class:"flex justify-end mb-4"},H={key:0,class:"bg-white shadow-lg rounded-lg overflow-hidden"},L={class:"bg-white p-4 flex justify-center items-center"},Q=["src","alt"],W={class:"p-6"},X={class:"text-2xl font-bold text-gray-800"},Y={class:"text-gray-600 mt-2"},ee={class:"text-gray-600 mt-2"},te={class:"mt-4 text-gray-700"},se={key:1,class:"text-center text-gray-500 text-lg mt-6"},oe={__name:"Product",setup(x){const g=C(),v=V(),u=p(null),e=p(!1);k(()=>{const c=parseInt(g.params.id);u.value=N.find(r=>r.id===c)||null});const s=()=>{e.value=!0},b=()=>{e.value=!1};return(c,r)=>{var f;return n(),o("div",G,[t("div",J,[t("button",{onClick:r[0]||(r[0]=j=>S(v).back()),class:"btn-primary"},"← Nazad")]),u.value?(n(),o("div",H,[t("div",L,[t("img",{src:u.value.image,alt:u.value.name,class:"max-h-48 w-auto object-contain"},null,8,Q)]),t("div",W,[t("h1",X,i(u.value.name),1),t("p",Y,"Kategorija: "+i(u.value.category),1),t("p",ee,"Kapacitet: "+i(u.value.capacity),1),t("p",te,i(u.value.description),1),t("button",{onClick:s,class:"mt-6 btn-primary"},"Zatraži ponudu")])])):(n(),o("div",se,"Proizvod nije pronađen.")),P(F,{show:e.value,subject:(f=u.value)==null?void 0:f.name,onClose:b},null,8,["show","subject"])])}}};export{oe as default};
